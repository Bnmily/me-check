<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Checklist</title>
 
  <style>
    :root{
      --pink: #ff4da6;       
      --bg: #101114;         
      --panel: #17181d;     
      --text: #e7e7ec;       
      --muted: #a9a9b2;       
      --border: #2b2d36;      
      --accent: var(--pink);
    }
    *{ box-sizing:border-box }
    html,body{ height:100% }
    body{
      margin:0; font:16px/1.5 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Helvetica,Arial,sans-serif;
      background: radial-gradient(1200px 700px at 20% -10%, rgba(255,77,166,.08), transparent 60%),
                  radial-gradient(800px 600px at 90% 0%, rgba(255,77,166,.06), transparent 40%),
                  var(--bg);
      color:var(--text);
    }
    header{
      position:sticky; top:0; z-index:10;
      backdrop-filter: blur(8px);
      background: linear-gradient(180deg, rgba(16,17,20,.85), rgba(16,17,20,.65));
      border-bottom:1px solid var(--border);
    }
    .wrap{ max-width:1000px; margin:0 auto; padding:18px 16px; }
    h1{ margin:0 0 8px; font-weight:800; letter-spacing:.3px }
    .pink{ color:var(--pink) }
    .controls{ display:flex; flex-wrap:wrap; gap:8px; align-items:center; }
    .controls input[type="search"]{
      flex:1 1 260px; padding:10px 12px; border-radius:12px; border:1px solid var(--border); background:#0f1013; color:var(--text);
    }
    button,.btn{
      appearance:none; border:1px solid var(--border); background:#0f1013; color:var(--text);
      padding:10px 14px; border-radius:12px; cursor:pointer; transition:.2s transform,.2s filter; font-weight:600;
    }
    button:hover{ filter:brightness(1.1) }
    button:active{ transform:translateY(1px) }
    .pill{ padding:8px 12px; border-radius:999px; font-size:13px }
    main{ max-width:1000px; margin:18px auto; padding:0 16px 80px }
    section.cat{ border:1px solid var(--border); background:var(--panel); border-radius:16px; padding:16px 14px; margin:14px 0 18px }
    section.cat h2{ margin:0 0 10px; color:var(--pink); font-size:22px }

    ul.topics{ list-style:none; margin:8px 0 0; padding:0; display:grid; grid-template-columns:repeat(1, minmax(0,1fr)); gap:8px }
    @media (min-width:700px){ ul.topics{ grid-template-columns:repeat(2, minmax(0,1fr)) } }
    li.topic{ display:flex; gap:10px; align-items:flex-start; border:1px solid var(--border); border-radius:12px; padding:10px 12px; background:#121319 }

    input[type="checkbox"]{ width:20px; height:20px; margin-top:2px; accent-color: var(--accent); }
    label{ display:block; cursor:pointer }
    .t-title{ font-weight:600 }
    .t-meta{ font-size:12px; color:var(--muted); margin-top:4px }
    
    .progress{ display:flex; align-items:center; gap:8px; color:var(--muted); font-size:13px; margin:6px 0 8px }
    .bar{ position:relative; height:8px; background:#0f1013; border:1px solid var(--border); border-radius:999px; overflow:hidden; flex:1 }
    .bar > i{ display:block; height:100%; width:0%; background:linear-gradient(90deg, rgba(255,77,166,.85), rgba(255,77,166,.4)); }
    
    .fab{
      position:fixed; right:16px; bottom:16px; display:flex; flex-direction:column; gap:8px; z-index:20;
    }
    .fab button{ box-shadow:0 10px 30px rgba(0,0,0,.35); }
    .muted{ color:var(--muted) }
    .small{ font-size:12px }
    .hr{ height:1px; background:var(--border); margin:10px 0 6px }
    .hide{ display:none !important }
  </style>
</head>
<body>
  <header>
    <div class="wrap">
      <h1><span class="pink">Checklist</span></h1>
      <div class="controls">
        <input id="q" type="search" placeholder="üîé Buscar t√≥pico (ex.: crase, matrizes, PIX)" />
        <label class="pill"><input id="onlyOpen" type="checkbox" /> Mostrar s√≥ pendentes</label>
        <button id="expandir">Expandir todas</button>
        <button id="recolher">Recolher todas</button>
      </div>
      <div class="small muted" id="stats"></div>
    </div>
  </header>

  <main id="content"></main>

  <div class="fab">
    <button id="exportBtn"> Exportar progresso (.json)</button>
    <input id="importFile" type="file" accept="application/json" class="hide" />
    <button id="importBtn"> Importar progresso</button>
    <button id="resetBtn" style="border-color:#4b1e35"> Resetar tudo</button>
  </div>

  <template id="sectionTpl">
    <section class="cat" data-cat="">
      <h2></h2>
      <div class="progress"><div class="bar"><i></i></div><span class="ptext">0/0</span></div>
      <ul class="topics"></ul>
    </section>
  </template>

  <template id="itemTpl">
    <li class="topic" data-id="">
      <input type="checkbox" />
      <label>
        <div class="t-title"></div>
        <div class="t-meta"></div>
      </label>
    </li>
  </template>

  <script>
    const DATA = [
      { cat: 'L√çNGUA PORTUGUESA', items: [
        '1. Compreens√£o de textos',
        '2. Ortografia oficial',
        '3. Classe e emprego de palavras',
        '4. Emprego do acento indicativo de crase',
        '5. Sintaxe da ora√ß√£o e do per√≠odo',
        '6. Emprego dos sinais de pontua√ß√£o',
        '7. Concord√¢ncia verbal e nominal',
        '8. Reg√™ncia verbal e nominal',
        '9. Coloca√ß√£o dos pronomes obl√≠quos √°tonos (pr√≥clise, mes√≥clise e √™nclise)'
      ]},
      { cat: 'L√çNGUA INGLESA', items: [
        '1. Conhecimento de um vocabul√°rio fundamental',
        '2. Aspectos gramaticais b√°sicos para a compreens√£o de textos'
      ]},
      { cat: 'MATEM√ÅTICA', items: [
        '1. N√∫meros inteiros, racionais e reais; problemas de contagem',
        '2. Sistema legal de medidas',
        '3. Raz√µes e propor√ß√µes; divis√£o proporcional; regras de tr√™s simples e compostas; porcentagens',
        '4. L√≥gica proposicional',
        '5. No√ß√µes de conjuntos',
        '6. Rela√ß√µes e fun√ß√µes; Fun√ß√µes polinomiais; Fun√ß√µes exponenciais e logar√≠tmicas',
        '7. Matrizes',
        '8. Determinantes',
        '9. Sistemas lineares',
        '10. Sequ√™ncias',
        '11. Progress√µes aritm√©ticas (PA) e progress√µes geom√©tricas (PG)'
      ]},
      { cat: 'ATUALIDADES DO MERCADO FINANCEIRO', items: [
        '1. Os bancos na Era Digital: Atualidade, tend√™ncias e desafios',
        '2. Internet banking',
        '3. Mobile banking',
        '4. Open banking',
        '5. Novos modelos de neg√≥cios',
        '6. Fintechs, startups e big techs',
        '7. Sistema de bancos-sombra (Shadow banking)',
        '8. Fun√ß√µes da moeda',
        '9. O dinheiro na era digital: blockchain, bitcoin e demais criptomoedas',
        '10. Marketplace',
        '11. Correspondentes banc√°rios',
        '12. Arranjos de pagamentos',
        '13. Sistema de pagamentos instant√¢neos (PIX)',
        '14. Segmenta√ß√£o e intera√ß√µes digitais',
        '15. Transforma√ß√£o digital no Sistema Financeiro'
      ]},
      { cat: 'MATEM√ÅTICA FINANCEIRA', items: [
        '1. Conceitos gerais: valor do dinheiro no tempo, capital, juros, taxas, capitaliza√ß√£o, fluxos de caixa, equival√™ncia financeira',
        '2. Juros simples: c√°lculo do montante, juros, taxa, principal e prazo',
        '3. Juros compostos: c√°lculo do montante, juros, taxa, principal e prazo',
        '4. Sistemas de amortiza√ß√£o: Sistema Price, Sistema SAC'
      ]},
      { cat: 'CONHECIMENTOS BANC√ÅRIOS', items: [
        '1. Sistema Financeiro Nacional e √≥rg√£os',
        '2. Mercado financeiro e desdobramentos',
        '3. Moeda e pol√≠tica monet√°ria',
        '4. Or√ßamento p√∫blico, t√≠tulos do Tesouro Nacional e d√≠vida p√∫blica',
        '5. Produtos Banc√°rios',
        '6. No√ß√µes de Mercado de Capitais',
        '7. No√ß√µes de Mercado de C√¢mbio',
        '8. Regimes de taxas de c√¢mbio',
        '9. Taxas de c√¢mbio nominais e reais',
        '10. Impactos das taxas de c√¢mbio sobre exporta√ß√µes e importa√ß√µes',
        '11. Diferencial de juros e fluxos de capitais',
        '12. Opera√ß√µes no mercado interbanc√°rio',
        '13. Opera√ß√µes de tesouraria, varejo e recupera√ß√£o de cr√©dito',
        '14. Taxas de juros e curva de juros',
        '15. Garantias do SFN',
        '16. Crime de lavagem de dinheiro',
        '17. Autorregula√ß√£o e Normativos SARB',
        '18. Sigilo Banc√°rio',
        '19. LGPD',
        '20. Legisla√ß√£o anticorrup√ß√£o',
        '21. Seguran√ßa cibern√©tica',
        '22. √âtica aplicada e C√≥digo de √âtica BB',
        '23. Pol√≠tica de Responsabilidade Socioambiental do BB',
        '24. ASG (Ambiental, Social e Governan√ßa)'
      ]},
      { cat: 'INFORM√ÅTICA', items: [
        '1. No√ß√µes de sistemas operacionais: Windows 10 e Linux (SUSE SLES 15 SP2)',
        '2. Edi√ß√£o de textos, planilhas e apresenta√ß√µes: Microsoft Office O365',
        '3. Seguran√ßa da informa√ß√£o: fundamentos e conceitos',
        '4. Prote√ß√£o de esta√ß√µes de trabalho: USB, hardening, antimalware, firewall',
        '5. Organiza√ß√£o e gerenciamento de informa√ß√µes: arquivos, pastas, programas',
        '6. Redes de computadores: conceitos b√°sicos, ferramentas, procedimentos',
        '7. Navegador Web: Edge v91, Firefox v78 ESR, busca e pesquisa',
        '8. Correio eletr√¥nico, f√≥runs, grupos de discuss√£o, wikis',
        '9. Redes sociais: Twitter, Facebook, LinkedIn, WhatsApp, YouTube, Instagram, Telegram',
        '10. Sistemas de suporte √† decis√£o e intelig√™ncia de neg√≥cio',
        '11. Fundamentos de an√°lise de dados',
        '12. Conceitos de educa√ß√£o a dist√¢ncia',
        '13. Tecnologias e ferramentas multim√≠dia, √°udio e v√≠deo',
        '14. Ferramentas de produtividade e trabalho remoto: Teams, Webex, Google Hangout, Drive, Skype'
      ]},
      { cat: 'VENDAS E NEGOCIA√á√ÉO', items: [
        '1. Estrat√©gia empresarial: an√°lise de mercado, for√ßas competitivas, imagem, identidade e posicionamento',
        '2. Segmenta√ß√£o de mercado',
        '3. A√ß√µes para aumentar valor percebido pelo cliente',
        '4. Gest√£o da experi√™ncia do cliente',
        '5. Aprendizagem e sustentabilidade organizacional',
        '6. Caracter√≠sticas dos servi√ßos: intangibilidade, inseparabilidade, variabilidade e perecibilidade',
        '7. Gest√£o da qualidade em servi√ßos',
        '8. T√©cnicas de vendas: da pr√©-abordagem ao p√≥s-vendas',
        '9. No√ß√µes de marketing digital: leads, copywriting, gatilhos mentais, inbound marketing',
        '10. √âtica e conduta profissional em vendas',
        '11. Padr√µes de qualidade no atendimento',
        '12. Utiliza√ß√£o de canais remotos para vendas',
        '13. Comportamento do consumidor',
        '14. Pol√≠tica de Relacionamento com o Cliente: Resolu√ß√£o n¬∫ 4.949/2021',
        '15. Resolu√ß√£o CMN n¬∫ 4.860/2020 ‚Äì ouvidoria',
        '16. Lei Brasileira de Inclus√£o da Pessoa com Defici√™ncia (Lei n¬∫ 13.146/2015)',
        '17. C√≥digo de Prote√ß√£o e Defesa do Consumidor (Lei n¬∫ 8.078/1990, atualizada)'
      ]}
    ];

    const KEY = 'bb-checklist-v1';
    function loadState(){
      try{ return JSON.parse(localStorage.getItem(KEY)) || {}; }catch(e){ return {}; }
    }
    function saveState(state){ localStorage.setItem(KEY, JSON.stringify(state)); }

   
    const content = document.getElementById('content');
    const sTpl = document.getElementById('sectionTpl');
    const iTpl = document.getElementById('itemTpl');
    let state = loadState();

    const index = []; 

    function makeId(catIdx, itemIdx){
      const catCode = String.fromCharCode(65 + catIdx); 
      return `${catCode}-${itemIdx+1}`;
    }

    function render(){
      content.innerHTML = '';
      index.length = 0;
      DATA.forEach((sec, ci)=>{
        const s = sTpl.content.firstElementChild.cloneNode(true);
        s.dataset.cat = sec.cat;
        s.querySelector('h2').textContent = sec.cat;
        const list = s.querySelector('ul.topics');

        sec.items.forEach((txt, ii)=>{
          const id = makeId(ci, ii);
          const li = iTpl.content.firstElementChild.cloneNode(true);
          li.dataset.id = id;
          const cb = li.querySelector('input[type="checkbox"]');
          const title = li.querySelector('.t-title');
          const meta = li.querySelector('.t-meta');

          cb.checked = !!state[id]?.checked;
          cb.addEventListener('change', ()=>{
            state[id] = state[id] || {};
            state[id].checked = cb.checked;
            state[id].updatedAt = new Date().toISOString();
            saveState(state);
            updateProgress(s);
            updateGlobalStats();
          });

          title.textContent = txt;
          meta.textContent = state[id]?.updatedAt ? `Atualizado em ${formatDate(state[id].updatedAt)}` : '‚Äî';

          list.appendChild(li);
          index.push({ id, cat: sec.cat, text: txt.toLowerCase(), el: li, secEl: s });
        });

        content.appendChild(s);
        updateProgress(s);
      });
      updateGlobalStats();
    }

    function updateProgress(sectionEl){
      const items = [...sectionEl.querySelectorAll('li.topic')];
      const done = items.filter(li=> li.querySelector('input').checked).length;
      const total = items.length;
      const pct = total? Math.round(done*100/total):0;
      sectionEl.querySelector('.bar > i').style.width = pct+"%";
      sectionEl.querySelector('.ptext').textContent = `${done}/${total}`;
    }

    function updateGlobalStats(){
      const all = [...document.querySelectorAll('li.topic input[type="checkbox"]')];
      const done = all.filter(cb=>cb.checked).length;
      const total = all.length;
      const pct = total? Math.round(done*100/total):0;
      document.getElementById('stats').textContent = `Progresso geral: ${done}/${total} (${pct}%)`;
    }

    function formatDate(iso){
      try{
        const d = new Date(iso);
        return d.toLocaleString('pt-BR', { dateStyle:'short', timeStyle:'short' });
      }catch(e){ return iso }
    }

 
    const q = document.getElementById('q');
    const onlyOpen = document.getElementById('onlyOpen');

    function applyFilters(){
      const term = q.value.trim().toLowerCase();
      const showOnlyOpen = onlyOpen.checked;
      const sections = new Set();

      index.forEach(row=>{
        const cb = row.el.querySelector('input');
        const matchText = !term || row.text.includes(term);
        const matchOpen = !showOnlyOpen || !cb.checked;
        const show = matchText && matchOpen;
        row.el.style.display = show ? '' : 'none';
        if(show) sections.add(row.secEl);
      });

  
      [...document.querySelectorAll('section.cat')].forEach(s=>{
        const anyVisible = [...s.querySelectorAll('li.topic')].some(li=> li.style.display!== 'none');
        s.style.display = anyVisible ? '' : 'none';
      });
    }

    q.addEventListener('input', applyFilters);
    onlyOpen.addEventListener('change', applyFilters);

  
    document.getElementById('expandir').addEventListener('click', ()=>{
      document.querySelectorAll('ul.topics').forEach(ul=> ul.style.gridTemplateColumns = 'repeat(1, minmax(0,1fr))');
    });
    document.getElementById('recolher').addEventListener('click', ()=>{
      document.querySelectorAll('ul.topics').forEach(ul=> ul.style.gridTemplateColumns = 'repeat(2, minmax(0,1fr))');
    });


    document.getElementById('exportBtn').addEventListener('click', ()=>{
      const blob = new Blob([JSON.stringify(state, null, 2)], {type:'application/json'});
      const a = document.createElement('a');
      a.href = URL.createObjectURL(blob);
      const stamp = new Date().toISOString().replace(/[:.]/g,'-');
      a.download = `bb-checklist-${stamp}.json`;
      a.click();
      URL.revokeObjectURL(a.href);
    });

    const importFile = document.getElementById('importFile');
    document.getElementById('importBtn').addEventListener('click', ()=> importFile.click());
    importFile.addEventListener('change', ()=>{
      const file = importFile.files[0];
      if(!file) return;
      const reader = new FileReader();
      reader.onload = ()=>{
        try{
          const data = JSON.parse(reader.result);
          if(typeof data !== 'object') throw new Error('Formato inv√°lido');
          state = data; saveState(state); render(); applyFilters();
          alert('Progresso importado com sucesso!');
        }catch(e){ alert('Arquivo inv√°lido.'); }
      };
      reader.readAsText(file);
      importFile.value = '';
    });

    document.getElementById('resetBtn').addEventListener('click', ()=>{
      if(confirm('Tem certeza que deseja apagar TODO o progresso local?')){
        localStorage.removeItem(KEY); state = {}; render(); applyFilters();
      }
    });


    render();
  </script>
</body>
</html>

